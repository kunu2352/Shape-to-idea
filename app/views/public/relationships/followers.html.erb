<div class="container-fluid">
  <div class="row  pt-4 justify-content-center">
    <h2>フォローユーザー</h2>
  </div>
  <div class="row pt-4 justify-content-center">
    <div class="col-5 justify-content-center">
      <table class="table">
        <thead>
          <tr>
            <th></th>
            <th>ユーザー名</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          <% @users.each do |user| %>
            <tr>
              <th>
                <%= image_tag user.get_profile_image, class: 'rounded-circle', size: '40x40' %>
              </th>
              <th>
                <%= link_to public_user_path(user.id) do %>
                  <%= user.name %>
                <% end %>
              </th>
              <th>
                <% if user_signed_in? %>
                  <% if current_user != user && user.email != 'guest@example.com' && current_user.email != 'guest@example.com'%>
      <!--ログインユーザーのメールアドレスと選択しているメールアドレスが不一致かつゲストユーザーのメールと不一致-->
                    <% if current_user.following?(user) %>
                      <%= link_to "フォロー外す", public_user_relationship_path(user.id), method: :delete, class: 'btn btn-primary' %>
                    <% else %>
                      <%= link_to "フォローする", public_user_relationship_path(user.id), method: :post, class: 'btn btn-primary' %>
                    <% end %>
                  <% end %>
                <% end %>
              </th>
            </tr>
          <% end %>
        </tbody>
      </tabke>
    </div>
  </div>
</div>
      



